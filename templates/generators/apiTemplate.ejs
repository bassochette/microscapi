/**
* <%= model.name %>Api class
*/
var <%=model.name%>Dal = require('../dal/<%=model.name%>DAL')
var <%=model.name.toLowerCase()%> = new <%=model.name%>Dal()

    /**
    //* Constructor.
    * @param {app} - express app.
    */
    function <%= model.name %>Api(app) {
        this.routes(app);
    }

    /**
     * API routes
     * @param  {express} app
     */
    <%= model.name %>Api.prototype.routes = function(app) {
        <%for(route in model.methods){
            for(var i=0; i<model.methods[route].length;i++){%>
        app.<%=model.methods[route][i]%>("<%=model.name.toLowerCase()+route%>", this.<%=model.methods[route][i]+model.name+((route == '/:id' && model.methods[route][i] == 'get' )?'Details':'')%>)
            <%}}%>
    }


    module.exports = <%= model.name %>Api;
